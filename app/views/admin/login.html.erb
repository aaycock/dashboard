<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>StatusDashboard Login</title>
    <%= render :partial => "/common/includes" %>
    <script type="text/javascript">

      $(document).ready(function(){

        /* setup navigation, content boxes, etc... */
        Administry.setup();

        // validate signup form on keyup and submit
        var validator = $("#loginform").validate({
          rules: {
            username: "required",
            password: "required"
          },
          messages: {
            username: "Enter your username",
            password: "Provide your password"
          },
          // the errorPlacement has to take the layout into account
          errorPlacement: function(error, element) {
            error.insertAfter(element.parent().find('label:first'));
          },
          // set new class to error-labels to indicate valid fields
          success: function(label) {
            // set &nbsp; as text for IE
            label.html("&nbsp;").addClass("ok");
          }
        });

      });
    </script>
  </head>
  <body>
   <%= render :partial => "/common/login_header" %>
  <!-- Page title -->
  <div id="pagetitle">
    <div class="wrapper-login"></div>
  </div>
  <!-- End of Page title -->

  <!-- Page content -->
  <div id="page">
    <!-- Wrapper -->
    <div class="wrapper-login">
      <!-- Login form -->
      <section class="full">

        <h3>Login</h3>


        <div class="box box-info">Type anything to log in</div>
        <% if flash[:notice] -%>
          <div class="box box-error"><%= flash[:notice] %></div>
        <% end %>

        <% form_tag do %>
          <p>
            <label for="email">Email:</label>
            <%= text_field_tag :email, params[:email], :class => "full" %>
          </p>
          <p>
            <label for="password">Password:</label>
            <%= password_field_tag :password, params[:password], :class => "full" %>
          </p>

          <p>
            <input type="checkbox" id="remember" class="" value="1" name="remember"/>
            <label class="choice" for="remember">Remember me?</label>
          </p>

          <p>
            <%= submit_tag "Login", :class => "btn btn-green big" %> &nbsp; <a href="javascript: //;" onclick="$('#emailform').slideDown(); return false;">Forgot password?</a> or <a href="#">Need help?</a>
          </p>
          <div class="clear">&nbsp;</div>

          <% end %>

          <form id="emailform" style="display:none" method="post" action="#">
            <div class="box">
              <p id="emailinput">
                <label for="email">Email:</label><br/>
                <input type="text" id="email" class="full" value="" name="email"/>
              </p>
              <p>
                <input type="submit" class="btn" value="Send"/>
              </p>
            </div>
          </form>

        </section>
        <!-- End of login form -->

      </div>
      <!-- End of Wrapper -->
    </div>
    <!-- End of Page content -->

   <%= render :partial => "/common/login_footer" %>

    <!-- User interface javascript load -->
    <script type="text/javascript" src="/js/administry.js"></script>
  </body>
  </html>